# åŸºæœ¬é…ç½®
mixed-port: 7890
bind-address: 127.0.0.1
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090
ipv6: true

# åŸŸå—…æ¢é…ç½®
sniffing:
  enabled: true
  override-destination: true
  sniff:
    - tls
    - http

# åœ°ç†æ•°æ®é…ç½®
geodata-mode: true
geo-auto-update: true
geo-update-interval: 168
geox-url:
  geoip: "https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geoip.dat"
  geosite: "https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geosite.dat"
  
dns:
  enable: true
  ipv6: true
  listen: 0.0.0.0:53
  cache: true
  cache-size: 8192
  cache-ttl: 300
  concurrent-query: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/15
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "*.localhost"
    - "+.msftconnecttest.com"
    - "+.msftncsi.com"
    - "+.captive.apple.com"
    - "+.dns.msftnCSI.com"
  default-nameserver:
    - 119.29.29.29
    - 223.5.5.5
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://223.6.6.6/dns-query
  proxy-server-nameserver:
    - https://dns.alidns.com/dns-query
  fallback:
    - https://doh.pub/dns-query
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/8
      - 127.0.0.0/8
      
proxies:
  # Alpha
  - {type: vless, name: Alpha, server: 190.93.246.55, port: 443, uuid: 351e3c90-7f9f-4f40-bccc-bee0bb0ca951, network: ws, tls: true, udp: true, sni: helloworld.fotoman.com, client-fingerprint: randomized, skip-cert-verify: false, ws-opts: {path: "/?ed=2560", headers: {Host: helloworld.fotoman.com}}}
  - {type: vless, name: Delta, server: 190.93.246.99, port: 443, uuid: e02a245e-5548-4bfc-888a-f4eb0bbb6b25, network: ws, tls: true, udp: true, sni: helloworld.techtrendparts.com, client-fingerprint: randomized, skip-cert-verify: false, ws-opts: {path: "/?ed=2560", headers: {Host: helloworld.techtrendparts.com}}}
  - {type: vless, name: Gamma, server: 190.93.246.61, port: 443, uuid: 5f2616c7-a69c-4a56-94b0-2aa4a25f878f, network: ws, tls: true, udp: true, sni: helloworld.todsm.com, client-fingerprint: randomized, skip-cert-verify: false, ws-opts: {path: "/?ed=2560", headers: {Host: helloworld.todsm.com}}}
  - {type: vless, name: Lambda, server: 190.93.246.19, port: 443, uuid: e02a245e-5548-4bfc-888a-f4eb0bbb6b25, network: ws, tls: true, udp: true, sni: helloworld.techtrendparts.com, client-fingerprint: randomized, skip-cert-verify: false, ws-opts: {path: "/?ed=2560", headers: {Host: helloworld.techtrendparts.com}}}
  - {name: HKG, server: work.fotoman.com, port: 36342, type: vless, uuid: 2948257a-90ab-4bf5-995a-62d909e11d40, tls: true, skip-cert-verify: false, servername: work.fotoman.com, client-fingerprint: randomized, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bing.com}}}
  - {name: JPN, server: tky.todsm.com, port: 26197, type: vless, uuid: bced37a5-b0c7-4d9b-f4f5-19c01076fd87, tls: true, skip-cert-verify: false, servername: tky.todsm.com, client-fingerprint: randomized, network: ws, ws-opts: {path: "/?ed=2560", headers: {Host: bing.com}}}
  - {name: JPN-2, server: jpn2.todsm.com, port: 56534, type: vless, uuid: ce232d5e-1184-4a0a-932a-d15898b25ee9, tls: true, skip-cert-verify: false, servername: jpn2.todsm.com, client-fingerprint: randomized, network: ws, ws-opts: {path: "/?ed=2560", headers: {Host: bing.com}}}
  - {name: VN, server: vn.todsm.com, port: 30082, type: vless, uuid: bd030c1c-dde8-4ef9-bdb9-b3c0372ac6af, tls: true, skip-cert-verify: true, servername: vn.todsm.com, client-fingerprint: randomized, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bing.com}}}
  - {name: HKG2, server: hkg2.todsm.com, port: 443, type: vless, uuid: d060ef5f-7047-4a0d-a5e1-903d4c602e2f, tls: true, skip-cert-verify: false, servername: hkg2.todsm.com, client-fingerprint: randomized, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bing.com}}}
  - {name: VPS1, server: us1.fotoman.com, port: 46456, type: vless, uuid: fbad8872-178b-4ecd-ca92-1b85e68ba0c5, tls: true, skip-cert-verify: false, servername: us1.fotoman.com, client-fingerprint: randomized, network: ws, ws-opts: {path: "/?ed=2560", headers: {Host: bing.com}}}
  - {name: VPS2, server: us2.fotoman.com, port: 17468, type: vless, uuid: 2c383049-92d5-4599-d086-2d0eb404cae9, tls: true, skip-cert-verify: false, servername: us2.fotoman.com, client-fingerprint: randomized, network: ws, ws-opts: {path: "/?ed=2560", headers: {Host: bing.com}}}
  # T2 Proxies
  - { name: ğŸ‡­ğŸ‡°é¦™æ¸¯ 01, type: trojan, server: hk1.32160593-06a2-edbf-7f8d-4cd58a6eeb94.6df03129.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡­ğŸ‡°é¦™æ¸¯ 02, type: trojan, server: hk2.32160593-06a2-edbf-7f8d-4cd58a6eeb94.24ba0f77.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡­ğŸ‡°é¦™æ¸¯ 03, type: trojan, server: hk3.32160593-06a2-edbf-7f8d-4cd58a6eeb94.0d1f6a51.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡­ğŸ‡°é¦™æ¸¯ 04, type: trojan, server: hk4.32160593-06a2-edbf-7f8d-4cd58a6eeb94.66dc3db5.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡­ğŸ‡°é¦™æ¸¯ 05, type: trojan, server: hk5.32160593-06a2-edbf-7f8d-4cd58a6eeb94.52629f87.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡­ğŸ‡°é¦™æ¸¯ 06, type: trojan, server: hk6.32160593-06a2-edbf-7f8d-4cd58a6eeb94.7817bed2.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡­ğŸ‡°é¦™æ¸¯ 07, type: trojan, server: hk7.32160593-06a2-edbf-7f8d-4cd58a6eeb94.8fb10e3d.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡­ğŸ‡°é¦™æ¸¯ 08, type: trojan, server: hk8.32160593-06a2-edbf-7f8d-4cd58a6eeb94.b12b4427.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¯ğŸ‡µæ—¥æœ¬ 01, type: trojan, server: jp1.32160593-06a2-edbf-7f8d-4cd58a6eeb94.7adf211e.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¯ğŸ‡µæ—¥æœ¬ 02, type: trojan, server: jp2.32160593-06a2-edbf-7f8d-4cd58a6eeb94.02444020.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¯ğŸ‡µæ—¥æœ¬ 03, type: trojan, server: jp3.32160593-06a2-edbf-7f8d-4cd58a6eeb94.5584fc1f.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¯ğŸ‡µæ—¥æœ¬ 04, type: trojan, server: jp4.32160593-06a2-edbf-7f8d-4cd58a6eeb94.69408ae5.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 01, type: trojan, server: sg1.32160593-06a2-edbf-7f8d-4cd58a6eeb94.2dde7df3.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 02, type: trojan, server: sg2.32160593-06a2-edbf-7f8d-4cd58a6eeb94.2c4b5066.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 03, type: trojan, server: sg3.32160593-06a2-edbf-7f8d-4cd58a6eeb94.d4f84ebb.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 04, type: trojan, server: sg4.32160593-06a2-edbf-7f8d-4cd58a6eeb94.2ce203e5.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 05, type: trojan, server: sg5.32160593-06a2-edbf-7f8d-4cd58a6eeb94.dede0d54.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 06, type: trojan, server: sg6.32160593-06a2-edbf-7f8d-4cd58a6eeb94.0aca10d1.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 07, type: trojan, server: sg7.32160593-06a2-edbf-7f8d-4cd58a6eeb94.57aaa8ec.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 08, type: trojan, server: sg8.32160593-06a2-edbf-7f8d-4cd58a6eeb94.c586e7c2.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡ºğŸ‡¸ç¾å›½ 01, type: trojan, server: us1.32160593-06a2-edbf-7f8d-4cd58a6eeb94.36a8c922.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡ºğŸ‡¸ç¾å›½ 02, type: trojan, server: us2.32160593-06a2-edbf-7f8d-4cd58a6eeb94.2f6cd430.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡ºğŸ‡¸ç¾å›½ 03, type: trojan, server: us3.32160593-06a2-edbf-7f8d-4cd58a6eeb94.47253001.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }
  - { name: ğŸ‡ºğŸ‡¸ç¾å›½ 04, type: trojan, server: us4.32160593-06a2-edbf-7f8d-4cd58a6eeb94.30d6a0d0.the-best-airport.com, port: 443, password: 5a52d145-2e23-40c7-84fc-2fbd72a6d546, udp: true, sni: new.download.the-best-airport.com, skip-cert-verify: true }

proxy-groups:
  - name: CDN
    type: load-balance
    proxies:
      - Alpha
      - Delta
      - Gamma
      - Lambda
      - T2
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    icon: https://img.icons8.com/?size=100&id=S4NxkowMF95E&format=png&color=000000

  - name: LLM
    type: url-test
    proxies:
      - VPS1
      - VPS2
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://img.icons8.com/?size=100&id=6sK2cmPnn5fM&format=png&color=000000

  - name: BIZ
    type: url-test
    proxies:
      - HKG
      - JPN
      - JPN-2
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://img.icons8.com/?size=100&id=FWpoGgZY6IsM&format=png&color=000000

  - name: T2
    type: url-test
    proxies:
      - ğŸ‡­ğŸ‡°é¦™æ¸¯ 01
      - ğŸ‡­ğŸ‡°é¦™æ¸¯ 02
      - ğŸ‡­ğŸ‡°é¦™æ¸¯ 03
      - ğŸ‡­ğŸ‡°é¦™æ¸¯ 04
      - ğŸ‡­ğŸ‡°é¦™æ¸¯ 05
      - ğŸ‡­ğŸ‡°é¦™æ¸¯ 06
      - ğŸ‡­ğŸ‡°é¦™æ¸¯ 07
      - ğŸ‡­ğŸ‡°é¦™æ¸¯ 08
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬ 01
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬ 02
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬ 03
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬ 04
      - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 01
      - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 02
      - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 03
      - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 04
      - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 05
      - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 06
      - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 07
      - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ 08
      - ğŸ‡ºğŸ‡¸ç¾å›½ 01
      - ğŸ‡ºğŸ‡¸ç¾å›½ 02
      - ğŸ‡ºğŸ‡¸ç¾å›½ 03
      - ğŸ‡ºğŸ‡¸ç¾å›½ 04
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://img.icons8.com/?size=100&id=CORdhINRbVXs&format=png&color=000000

rules:
  # ä¼˜å…ˆç›´è” - å›½å†…å¸¸ç”¨æœåŠ¡
  - DOMAIN-KEYWORD,aws,DIRECT
  - DOMAIN-KEYWORD,amazon,DIRECT
  - DOMAIN-KEYWORD,qq,DIRECT
  - DOMAIN-KEYWORD,wechat,DIRECT
  - DOMAIN-KEYWORD,weixin,DIRECT
  # Google Voice é€šè¯ä¸šåŠ¡
  - DOMAIN-SUFFIX,telephony.goog,JPN
  - DOMAIN-SUFFIX,voice.google.com,JPN
  # é«˜æµé‡æœåŠ¡ - ä½¿ç”¨ CDN çº¿è·¯
  - DOMAIN-KEYWORD,whatsapp,JPN
  - DOMAIN-SUFFIX,fbcdn.net,CDN
  - DOMAIN-SUFFIX,cdninstagram.com,CDN
  - DOMAIN-SUFFIX,twimg.com,CDN
  - DOMAIN-SUFFIX,video.twimg.com,CDN
  - DOMAIN-SUFFIX,gstatic.com,CDN
  - DOMAIN-SUFFIX,googleusercontent.com,CDN
  - DOMAIN-SUFFIX,ytimg.com,CDN
  - DOMAIN-SUFFIX,googlevideo.com,CDN
  - DOMAIN-SUFFIX,redditmedia.com,CDN
  - DOMAIN-SUFFIX,redd.it,CDN
  - DOMAIN-SUFFIX,preview.redd.it,CDN
  - DOMAIN-KEYWORD,tiktok,CDN
  - DOMAIN-SUFFIX,akamaized.net,CDN
  # ä½æµé‡æœåŠ¡
  - DOMAIN-SUFFIX,gemini.google.com,JPN
  - DOMAIN-SUFFIX,google.com,BIZ
  - DOMAIN-SUFFIX,facebook.com,BIZ
  - DOMAIN-SUFFIX,youtube.com,BIZ
  - DOMAIN-SUFFIX,twitter.com,BIZ
  - DOMAIN-KEYWORD,cloudflare,BIZ
  - DOMAIN-KEYWORD,ttsmaker,BIZ
  - DOMAIN-SUFFIX,x.ai,BIZ
  - DOMAIN-SUFFIX,grok.com,BIZ
  - DOMAIN-SUFFIX,voice.telephony.goog,BIZ
  - DOMAIN-SUFFIX,trends.google.com,BIZ
  - DOMAIN-SUFFIX,x.com,BIZ
  - DOMAIN-SUFFIX,t.co,BIZ
  - DOMAIN-KEYWORD,yahoo,BIZ
  - DOMAIN-KEYWORD,kickstarter,BIZ
  - DOMAIN-KEYWORD,linkedin,BIZ
  - DOMAIN-KEYWORD,licdn,BIZ
  - DOMAIN-KEYWORD,protects,BIZ
  - DOMAIN-KEYWORD,github,BIZ
  - DOMAIN-KEYWORD,quora,BIZ
  - DOMAIN-KEYWORD,qobuz,BIZ
  # OpenAI
  - GEOSITE,openai,JPN
  - DOMAIN-SUFFIX,openai.com,JPN
  - DOMAIN-SUFFIX,chatgpt.com,JPN
  - DOMAIN-SUFFIX,auth0.openai.com,JPN
  - DOMAIN,api.openai.com,JPN
  - DOMAIN,chat.openai.com,JPN  
  # Telegram
  - GEOSITE,telegram,BIZ
  - GEOIP,telegram,BIZ,no-resolve
  - IP-CIDR,91.108.4.0/22,BIZ,no-resolve
  - IP-CIDR,91.108.8.0/22,BIZ,no-resolve
  - IP-CIDR,91.108.12.0/22,BIZ,no-resolve
  - IP-CIDR,91.108.16.0/22,BIZ,no-resolve
  - IP-CIDR,91.108.20.0/22,BIZ,no-resolve
  - IP-CIDR,91.108.56.0/22,BIZ,no-resolve
  - IP-CIDR,149.154.160.0/20,BIZ,no-resolve
  - IP-CIDR,149.154.172.0/22,BIZ,no-resolve
  - IP-CIDR6,2001:b28:f23d::/48,BIZ,no-resolve
  - IP-CIDR6,2001:b28:f23f::/48,BIZ,no-resolve
  - IP-CIDR6,2001:67c:4e8::/48,BIZ,no-resolve  
  # GEO - é«˜æµé‡ï¼Œä½¿ç”¨ CDN
  - GEOSITE,gfw,CDN
  - GEOSITE,greatfire,CDN
  - GEOSITE,geolocation-!cn,CDN
  # é»˜è®¤
  - MATCH,DIRECT
